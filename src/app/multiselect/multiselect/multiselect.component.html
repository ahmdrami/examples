<div class="multiselect" appCloseMenu (hideOptions)="showMenu = false">
    <div class="multiselect__selected">
        <div *ngFor="let item of selected; let i = index" class="tag">
            <label>
                {{ item.name }}
                <button (click)="toggleItemSelection(item)">X</button>
            </label>
        </div>
    </div>
    <div class="multiselect__input">
        <input type="search" placeholder="search" (click)="showOptions()" [(ngModel)]="search" (keydown)="showOptions()">
        <button class="multiselect__input__btn" (click)="toggleMenu()">
            <svg [ngClass]="{'--rotate': showMenu}" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129" xmlns:xlink="http://www.w3.org/1999/xlink"
                enable-background="new 0 0 129 129">
                <g>
                    <path d="m121.3,34.6c-1.6-1.6-4.2-1.6-5.8,0l-51,51.1-51.1-51.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l53.9,53.9c0.8,0.8 1.8,1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l53.9-53.9c1.7-1.6 1.7-4.2 0.1-5.8z"
                    />
                </g>
            </svg>

        </button>
    </div>

    <div class="multiselect__options" [hidden]="!showMenu">
        <div *ngFor="let item of optionsData | filterItem:search ">
            <input class="input--check" type="checkbox" [id]="item.id" [name]="item.id" [checked]="item.selected" (change)="toggleItemSelection(item)">
            <label [for]="item.id">{{ item.name }}</label>
        </div>
    </div>
</div>
